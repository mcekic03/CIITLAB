<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CIITLAB Admin Panel</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <header>
      <nav class="navbar">
        <div class="logo">
          <a href="index.html">
            <img src="uploads/ciitlab.jpg" alt="CIITLAB Logo" />
          </a>
        </div>
       
        </div>
        <div class="nav-links">
          <a href="index.html">Home</a>
          <div class="dropdown" id="dropdown">
            <a href="#" class="dropdown-trigger" id="dropdownTrigger">Topics</a>
            <div class="dropdown-content"  id="dropdownContent">
              <a href="comingsoon.html">Artifical Intelligence</a>
              <a href="nlp.html">NLP</a>
              <a href="comingsoon.html">Logic Design and Spectral Technics</a>
              <a href="comingsoon.html">Signal Processing</a>
              <a href="comingsoon.html">Web Programming</a>
              
            </div>
          </div>
          
          <a href="comingsoon.html">News</a>
          <a href="researchers.html">Researchers</a>
          <a href="students.html">PhD Students</a>
          <a href="contact.html">Contact Us</a>
        </div>
      </nav>

       <nav class="mobile-bottom-nav">
      <a href="index.html" class="mobile-nav-item">
        <i class="fas fa-home"></i>
        <span>Home</span>
      </a>
      <a href="#" class="mobile-nav-item mobile-dropdown-trigger-topics">
        <i class="fas fa-book"></i>
        <span>Topics</span>
      </a>
      <a href="comingsoon.html" class="mobile-nav-item">
        <i class="fas fa-newspaper"></i>
        <span>News</span>
      </a>
      <a href="#" class="mobile-nav-item mobile-dropdown-trigger-team">
        <i class="fas fa-users"></i>
        <span>Team</span>
      </a>
      <a href="#" class="mobile-nav-item user-menu">
        <i class="fas fa-user-circle"></i>
        <span>Profile</span>
      </a>
    </nav>
    
    <!-- Mobile Topics Dropdown -->
    <div class="mobile-dropdown-panel-topics">
      <div class="mobile-dropdown-header">
        <h3>Topics</h3>
        <button class="close-dropdown"><i class="fas fa-times"></i></button>
      </div>
      <div class="mobile-dropdown-content">
        <a href="comingsoon.html">Artificial Intelligence</a>
        <a href="nlp.html">NLP</a>
        <a href="comingsoon.html">Logic Design and Spectral Technics</a>
        <a href="comingsoon.html">Signal Processing</a>
        <a href="comingsoon.html">Web Programming</a>
      </div>
    </div>
    <div class="mobile-dropdown-panel-team">
      <div class="mobile-dropdown-header">
        <h3>Team</h3>
        <button class="close-dropdown-team"><i class="fas fa-times"></i></button>
      </div>
      <div class="mobile-dropdown-content">
        <a href="researchers.html">Researchers</a>
        <a href="students.html">PhD Students</a>
      </div>
    </div>
    <div class="mobile-user-panel">
      <div class="mobile-user-header">
        <div class="user-info">
        </div>
        <button class="close-user-panel"><i class="fas fa-times"></i></button>
      </div>
      <div class="mobile-user-content">
        <a href="/profile.html">
          <i class="fas fa-user"></i> Profile
        </a>
        <a href="#" id="mobileLogoutBtn">
          <i class="fas fa-sign-out-alt"></i> Logout
        </a>
      </div>
    </div>
    
    <!-- Overlay for mobile panels -->
    <div class="mobile-overlay"></div>
  </header>
  </head>
  <body>

    <div class="modalLoading" id="modalLoading">
      <div class="loader">
      </div>
  </div>
    <div class="admin-dashboard">
      <!-- Admin Sidebar -->
      <div class="admin-sidebar">
        <div class="sidebar-header">
          <h2>CIITLAB Admin</h2>
        </div>
        <nav class="admin-nav">
          <a href="#" class="active" data-section="dashboard">
            <i class="fas fa-home"></i> Dashboard
          </a>
          <a href="#" data-section="researchers">
            <i class="fas fa-users"></i> Researchers
          </a>
          <a href="#" data-section="students">
            <i class="fas fa-graduation-cap"></i> PhD Students
          </a>
          <a href="#" data-section="publications">
            <i class="fas fa-book"></i> Publications
          </a>
          <a href="#" data-section="resources">
            <i class="fas fa-folder"></i> Resources
          </a>
          <a href="#" data-section="blogs">
            <i class="fas fa-blog"></i> Blog Posts
          </a>
          <a href="#" data-section="users">
            <i class="fas fa-user-cog"></i> User Management
          </a>
          <a href="#" data-section="applications">
            <i class="fas fa-cube"></i> App Management
          </a>
        </nav>
      </div>

      <!-- Main Content -->
      <div class="admin-content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="admin-section active">
          <div class="admin-header">
            <h1>Dashboard</h1>
            <div class="admin-actions">
              <button class="btn-primary" onclick="refreshDashboard()">
                <i class="fas fa-sync"></i> Refresh
              </button>
            </div>
          </div>
          <div class="dashboard-stats">
            <div class="stat-card">
              <i class="fas fa-highlighter"></i>
              <div class="stat-info">
                <h3>Total Researchers</h3>
                <p id="total-researchers">0</p>
              </div>
            </div>
            <div class="stat-card">
              <i class="fas fa-users"></i>
              <div class="stat-info">
                <h3>Total PhD Students</h3>
                <p id="total-phd-students">0</p>
              </div>
            </div>
            <div class="stat-card">
              <i class="fas fa-users"></i>
              <div class="stat-info">
                <h3>Total Annotators</h3>
                <p id="total-annotators">0</p>
              </div>
            </div>
            <div class="stat-card">
              <i class="fas fa-book"></i>
              <div class="stat-info">
                <h3>Total Publications</h3>
                <p id="total-publications">0</p>
              </div>
            </div>
            <div class="stat-card">
              <i class="fas fa-folder"></i>
              <div class="stat-info">
                <h3>Total Resources</h3>
                <p id="total-resources">0</p>
              </div>
            </div>
            <div class="stat-card">
              <i class="fas fa-blog"></i>
              <div class="stat-info">
                <h3>Total Blog Posts</h3>
                <p id="total-blogs">0</p>
              </div>
            </div>
            <div class="stat-card">
              <i class="fas fa-briefcase"></i>
              <div class="stat-info">
                <h3>Total Students Work</h3>
                <p id="total-students-work">0</p>
              </div>
            </div>
          </div>
          <div class="recent-activity">
            <h2>Recent Activity</h2>
            <div id="activity-list"></div>
          </div>
        </section>

        <!-- Researchers Section -->
        <section id="researchers" class="admin-section">
          <div class="admin-header">
            <h1>CIITLAB Researchers</h1>
            <div class="admin-actions">
            </div>
          </div>
          <div class="table-container">
            <table class="admin-table">
              <thead>
                <tr>
                  <th>User ID</th>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Status</th>
                  <th>Publications</th>
                  <th>Resources</th>
                </tr>
              </thead>
              <tbody id="researchers-list"></tbody>
            </table>
          </div>
        </section>
        <section id="students" class="admin-section">
          <div class="admin-header">
            <h1>CIITLAB PhD Students</h1>
            <div class="admin-actions">
            </div>
          </div>
          <div class="table-container">
            <table class="admin-table">
              <thead>
                <tr>
                  <th>User ID</th>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="students-list"></tbody>
            </table>
          </div>
        </section>

        <!-- Publications Section -->
        <section id="publications" class="admin-section">
          <div class="admin-header">
            <h1>Manage Publications</h1>
            <div class="admin-actions">
            </div>
          </div>
          <div class="table-container">
            <table class="admin-table">
              <thead>
                <tr>
                  <th>Publication ID</th>
                  <th>Author ID</th>
                  <th>Created</th>
                  <th>Link</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="publications-list"></tbody>
            </table>
          </div>
        </section>

        <!-- Resources Section -->
        <section id="resources" class="admin-section">
          <div class="admin-header">
            <h1>Manage Resources</h1>
            <div class="admin-actions">
            </div>
          </div>
          <div class="table-container">
            <table class="admin-table">
              <thead>
                <tr>
                  <th>User ID</th>
                  <th>Title</th>
                  <th>Description</th>
                  <th>Link</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="resources-list"></tbody>
            </table>
          </div>
        </section>

        <!-- Blog Posts Section -->
        <section id="blogs" class="admin-section">
          <div class="admin-header">
            <h1>Manage Blog Posts</h1>
            <div class="admin-actions">
              <button class="btn-primary" onclick="openAddBlogModal()">
                <i class="fas fa-plus"></i> Add Blog Post
              </button>
            </div>
          </div>
          <div class="table-container">
            <table class="admin-table">
              <thead>
                <tr>
                  <th>Blog ID</th>
                  <th>Author ID</th>
                  <th>Title</th>
                  <th>Published</th>
                  <th>Updated</th>
                  <th>Blog Text</th>
                  <th>Keywords</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="blogs-list"></tbody>
            </table>
          </div>
        </section>

        <!-- User Management Section -->
        <section id="users" class="admin-section">
          <div class="admin-header">
            <h1>User Management</h1>
            <div class="admin-actions">
              <button class="btn-primary" onclick="openAddUserModal()">
                <i class="fas fa-plus"></i> Add User
              </button>
            </div>
          </div>
          <div class="table-container">
            <table class="admin-table">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Role</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="users-list"></tbody>
            </table>
          </div>
        </section>
        <section id="applications" class="admin-section">
          <div class="app-header">
            <h1>Application Management</h1>
            <div class="app-actions">
              <select name="app-select" id="app-select">
                <option value="none">Select Application</option>
                <option value="sentimentAnalysis">Sentiment Analysis App</option>
                <option value="posTagging">Pos Tagging Annotation</option>
              </select>
            </div>
            <div class="app-stats">
              <div class="app-stat-card">
                <i class="fas fa-highlighter"></i>
                <div class="stat-info">
                  <h3>Total Sentiment Analysis Annotators</h3>
                  <p id="total-sentimentAnalysis-annotators">0</p>
                </div>
              </div>
              <div class="app-stat-card">
                <i class="fas fa-commenting"></i>
                <div class="stat-info">
                  <h3>Total Annotated Sentences</h3>
                  <p id="total-annotated-sentences">0</p>
                </div>
              </div>
              <div class="app-stat-card">
                <i class="fas fa-exclamation-triangle"></i>
                <div class="stat-info">
                  <h3>Total Sentences for Review</h3>
                  <p id="total-neutral-sentences">0</p>
                </div>
          </div>
          
            <div class="app-stat-card">
              <i class="fas fa-file"></i>
              <div class="stat-info-download">
                <h3>Completed Annotations</h3>
                <span>Fully annotated dataset, finalized and ready for use.</span>
              </div>
              <div class="download-icon">
                <button id="downloadButtonDone" class="download-btn"><i class="fa fa-download" aria-hidden="true"></i></button>
              </div>
            </div>
            <div class="app-stat-card">
              <i class="fas fa-file"></i>
              <div class="stat-info-download">
                <h3>User-Flagged for Review</h3>
                <span>Dataset entries marked as "Not Sure" by users - requires admin validation.</span>
              </div>
              <div class="download-icon">
                <button id="downloadButtonFlag" class="download-btn"><i class="fa fa-download" aria-hidden="true"></i></button>
              </div>
            </div>
            <div class="app-stat-card">
              <i class="fas fa-file"></i>
              <div class="stat-info-download">
                <h3>Unprocessed Entries</h3>
                <span>Unprocessed sentences that haven't been reviewed or annotated yet.</span>
              </div>
              <div class="download-icon">
                <button id="downloadButtonUnprocessed" class="download-btn"><i class="fa fa-download" aria-hidden="true"></i></button>
              </div>
            </div>
          </div>  
            <div class="app-stats">
              <div class="app-stat-card">
                <i class="fas fa-highlighter"></i>
                <div class="stat-info">
                  <h3>Total Sentiment Analysis Annotators</h3>
                  <p id="total-sentimentAnalysis-annotators">0</p>
                </div>
              </div>
              <div class="app-stat-card">
                <i class="fas fa-users"></i>
                <div class="stat-info">
                  <h3>Total Annotated Sentences</h3>
                  <p id="total-annotated-sentences">0</p>
                </div>
              </div>
              <div class="app-stat-card">
                <i class="fas fa-users"></i>
                <div class="stat-info">
                  <h3>Total Neutral Sentences</h3>
                  <p id="total-neutral-sentences">0</p>
                </div>
          </div>
          </div>
            <div class="app-stats">
              <div class="app-stat-card">
                <i class="fas fa-file"></i>
                <div class="stat-info-download">
                  <h3>Completed Annotations</h3>
                  <span>Fully annotated dataset, finalized and ready for use.</span>
                </div>
                <div class="download-icon">
                  <button id="downloadButtonDone" class="download-btn"><i class="fa fa-download" aria-hidden="true"></i></button>
                </div>
              </div>
              <div class="app-stat-card">
                <i class="fas fa-file"></i>
                <div class="stat-info-download">
                  <h3>User-Flagged for Review</h3>
                  <span>Dataset entries marked as "Not Sure" by users - requires admin validation.</span>
                </div>
                <div class="download-icon">
                  <button id="downloadButtonFlag" class="download-btn"><i class="fa fa-download" aria-hidden="true"></i></button>
                </div>
              </div>
              <div class="app-stat-card">
                <i class="fas fa-file"></i>
                <div class="stat-info-download">
                  <h3>Unprocessed Entries</h3>
                  <span>Unprocessed sentences that haven't been reviewed or annotated yet.</span>
                </div>
                <div class="download-icon">
                  <button id="downloadButton" class="download-btn"><i class="fa fa-download" aria-hidden="true"></i></button>
                </div>
              </div>
          </div>
          <div class="table-container">
            <table class="admin-table" id="app-table">
              <tbody id="app-list"></tbody>
            </table>
          </div>
        </section>
        
      </div>
    </div>

    <!-- Modals -->
    <!-- Add/Edit Researcher Modal -->
    <div id="researcher-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Add/Edit Researcher</h2>
          <button class="close-btn" onclick="closeModal('researcher-modal')">&times;</button>
        </div>
        <form id="researcher-form" onsubmit="handleResearcherSubmit(event)">
          <input type="hidden" id="researcher-id">
          <div class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" id="firstName" required>
          </div>
          <div class="form-group">
            <label for="lastName">Last Name</label>
            <input type="text" id="lastName" required>
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" required>
          </div>
          <div class="form-group">
            <label for="bio">Biography</label>
            <textarea id="handlebio" rows="4"></textarea>
          </div>
          <div class="form-group">
            <label for="profileImage">Profile Image</label>
            <input type="url" id="profileImage" accept="url">
          </div>
          <div class="form-group">
            <label>Education</label>
            <div id="education-list"></div>
            <button type="button" class="btn-secondary" onclick="addEducationField()">
              Add Education
            </button>
          </div>
          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeModal('researcher-modal')">
              Cancel
            </button>
            <button type="submit" class="btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Add/Edit Publication Modal -->
    <div id="publication-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Add/Edit Publication</h2>
          <button class="close-btn" onclick="closeModal('publication-modal')">&times;</button>
        </div>
        <form id="publication-form" onsubmit="handlePublicationSubmit(event)">
          <input type="hidden" id="publication-id">
          <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" required>
          </div>
          <div class="form-group">
            <label for="authors">Authors</label>
            <div id="authors-list"></div>
            <button type="button" class="btn-secondary" onclick="addAuthorField()">
              Add Author
            </button>
          </div>
          <div class="form-group">
            <label for="venue">Venue</label>
            <input type="text" id="venue" required>
          </div>
          <div class="form-group">
            <label for="year">Year</label>
            <input type="number" id="year" required min="1900" max="2024">
          </div>
          <div class="form-group">
            <label for="doi">DOI</label>
            <input type="text" id="doi">
          </div>
          <div class="form-group">
            <label for="abstract">Abstract</label>
            <textarea id="abstract" rows="4"></textarea>
          </div>
          <div class="form-group">
            <label for="pdf">PDF File</label>
            <input type="file" id="pdf" accept=".pdf">
          </div>
          <div class="form-group">
            <label for="researcher">Researcher</label>
            <select id="researcher" required></select>
          </div>
          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeModal('publication-modal')">
              Cancel
            </button>
            <button type="submit" class="btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Add/Edit Resource Modal -->
    <div id="resource-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Add/Edit Resource</h2>
          <button class="close-btn" onclick="closeModal('resource-modal')">&times;</button>
        </div>
        <form id="resource-form" onsubmit="handleResourceSubmit(event)">
          <input type="hidden" id="resource-id">
          <div class="form-group">
            <label for="resource-title">Title</label>
            <input type="text" id="resource-title" required>
          </div>
          <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" rows="4" required></textarea>
          </div>
          <div class="form-group">
            <label for="type">Type</label>
            <select id="type" required>
              <option value="dataset">Dataset</option>
              <option value="tool">Tool</option>
              <option value="documentation">Documentation</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label for="resource-url">URL</label>
            <input type="text" id="resource-url" required>
          </div>
          <div class="form-group">
            <label for="resource-file">File</label>
            <input type="file" id="resource-file">
          </div>
          <div class="form-group">
            <label for="resource-researcher">Researcher</label>
            <select id="resource-researcher" required></select>
          </div>
          <div class="form-group">
            <label for="version">Version</label>
            <input type="text" id="version">
          </div>
          <div class="form-group">
            <label for="license">License</label>
            <input type="text" id="license">
          </div>
          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeModal('resource-modal')">
              Cancel
            </button>
            <button type="submit" class="btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Add/Edit Blog Modal -->
    <div id="blog-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Add/Edit Blog Post</h2>
          <button class="close-btn" onclick="closeModal('blog-modal')">&times;</button>
        </div>
        <form id="blog-form" onsubmit="handleBlogSubmit(event)">
          <input type="hidden" id="blog-id">
          <div class="form-group">
            <label for="blog-title">Title</label>
            <input type="text" id="blog-title" required>
          </div>
          <div class="form-group">
            <label for="content">Content</label>
            <textarea id="content" rows="10" required></textarea>
          </div>
          <div class="form-group">
            <label for="excerpt">Excerpt</label>
            <textarea id="excerpt" rows="3" required></textarea>
          </div>
          <div class="form-group">
            <label for="blog-author">Author</label>
            <select id="blog-author" required></select>
          </div>
          <div class="form-group">
            <label for="status">Status</label>
            <select id="status">
              <option value="draft">Draft</option>
              <option value="published">Published</option>
              <option value="archived">Archived</option>
            </select>
          </div>
          <div class="form-group">
            <label for="blog-image">Image</label>
            <input type="file" id="blog-image" accept="image/*">
          </div>
          <div class="form-group">
            <label for="category">Category</label>
            <input type="text" id="category">
          </div>
          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeModal('blog-modal')">
              Cancel
            </button>
            <button type="submit" class="btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Add/Edit User Modal -->
    <div id="user-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Add/Edit User</h2>
          <button class="close-btn" onclick="closeModal('user-modal')">&times;</button>
        </div>
        <form id="user-form" onsubmit="handleUserSubmit(event)">
          <input type="hidden" id="user-id">
          <div class="form-group">
            <label for="user-firstName">First Name</label>
            <input type="text" id="user-firstName" required>
          </div>
          <div class="form-group">
            <label for="user-lastName">Last Name</label>
            <input type="text" id="user-lastName" required>
          </div>
          <div class="form-group">
            <label for="user-email">Email</label>
            <input type="email" id="user-email" required>
          </div>
          <div class="form-group">
            <label for="user-password">Password</label>
            <input type="password" id="user-password">
            <small>Leave blank to keep current password</small>
          </div>
          <div class="form-group">
            <label for="user-bio">Biography</label>
            <textarea id="user-bio" rows="4"></textarea>
          </div>
          <div class="form-group">
            <label for="user-profileImage">Profile Image</label>
            <input type="url" id="user-profileImage" accept="url">
          </div>
          <div class="form-group">
            <label>Education</label>
            <div id="education-list"></div>
            <button type="button" class="btn-secondary" onclick="addEducationField()">
              Add Education
            </button>
          </div>
          <div class="form-group">
            <label for="user-role">Role</label>
            <select id="user-role" required>
              <option value="admin">Admin</option>
              <option value="researcher">Researcher</option>
              <option value="student">PhD Student</option>
              <option value="anotator1">Sentiment Annotator</option>
              <option value="anotator2">POS Tagging Annotator</option>
            </select>
          </div>
          <div class="form-group">
            <label for="user-status">Status</label>
            <select id="user-status" required>
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
          </div>
          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeModal('user-modal')">
              Cancel
            </button>
            <button type="submit" class="btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>

    <script src="js/admin.js"></script>
    <script src="js/auth.js"></script>
  </body>
</html>
